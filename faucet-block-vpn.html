
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>BitBrawlers | Brawlers</title>
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap-responsive.min.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,600,700" rel="stylesheet">
<link rel="stylesheet" href="assets/style.css">
<script type="text/javascript" src="assets/js/jquery-3.2.1.js"></script>
<script type="text/javascript" src="assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="assets/js/wallet-validator/wallet-address-validator/dist/wallet-address-validator.min.js"></script><script type="text/javascript">
var cf_getplayerlists = false;
var bet_matchID;
var sbettors;

$(document).ready(function() {
	
	//FIXED HEADER
	$(document).scroll(function() {
		if ($(document).scrollTop() >= 100) {
			$('.topheader').css('position', 'fixed');
			$('.topheader').css('top', '0');
		} else {
			$('.topheader').css('position', 'relative');
		}
	});
	if ($(document).scrollTop() >= 100) {
		$('.topheader').css('position', 'fixed');
		$('.topheader').css('top', '0');
	} else {
		$('.topheader').css('position', 'relative');
	}
	
	//BET SLIDER
	if ($('#range').length) {
		var slider = document.getElementById("range");
		var output = document.getElementById("bet-amount");
		output.innerHTML = slider.value;
		slider.oninput = function() {
			output.value = parseFloat(this.value).toFixed(8);
		}
	}
	
	//NOTIFICATION ALERTS
	$('.alert-dismissible a').click(function() {
		$('.notification-alerts').hide();
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=hidealerts&matchID="+bet_matchID,
		}).done(function(response) {
			;
		});
	});
	
	//FORMAT BITCOIN
	$('.bet-amount').blur(function() {
		if ($(this).val() == '')
			return true;
		else
			$(this).val(parseFloat($(this).val()).toFixed(8));
	});
	$('.bet-amount').keypress(function(eve) {
		if (eve.which == 46 && $(this).caret().start == 0)
			;
		else if ((eve.which != 46 || $(this).val().indexOf('.') != -1) && (eve.which < 48 || eve.which > 57)) {
			eve.preventDefault();
		}
	});
	
	//PLACE BETS
	$('.sbettors1-btn, .sbettors2-btn').click(function() {
		
		if ($(this).hasClass('sbettors1-btn')) {
			sbettors = 1;
		} else if ($(this).hasClass('sbettors2-btn')) {
			sbettors = 2;
		}
		
		$('.popup-confirm-placebet .bet-amount-placed').html('');
		$('.popup-confirm-placebet .bet-team-placed').html('');
		
		if ($(this).hasClass('sbettors1-btn')) {
			$('.popup-confirm-placebet .bet-team-placed').html('홍팀');
		} else if ($(this).hasClass('sbettors2-btn')) {
			$('.popup-confirm-placebet .bet-team-placed').html('청팀');
		}
		
		$('.popup-confirm-placebet .bet-amount-placed').html($('.bet-amount').val());
		
		$('.popup-confirm-placebet').modal('show');

	});
	
	$('.submit-placebet').click(function() {
		
		$('.popupwindow').modal('hide');
		
		if ($('.bet-amount').val() == '') {
			
			$('#popup-message .modal-body').html('배팅금액을 걸으세요');
			$('#popup-message').modal('show');
			return false;
		
		}

		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=placebet&sbettors=sbettors"+sbettors+"&betamount="+$('.bet-amount').val()+"",
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {
				
				if (sbettors == 1) {
					$('#bet_on_team').val($('.bet-team1').html());
					$('#bet_on_sbettors').val('sbettors1');
				
				} else if (sbettors == 2) {
					$('#bet_on_team').val($('.bet-team2').html());
					$('#bet_on_sbettors').val('sbettors2');
				}
					
				$('#popup-message .modal-body').html('성공적으로 배팅을 했습니다');
				$('#popup-message').modal('show');
				$('.defplaceyourbets').html('배팅대상 ' + response['results']['placedBetAtsbettors'] + 배팅금액 + response['results']['placedBetAmount']);
				
				getwallet();
				
			} else if (response['status'] == 'FAILED') {
					
				$('#popup-message .modal-body').html('배팅오류. 매치는 이미 잠겼습니다');
				$('#popup-message').modal('show');
				$('.defplaceyourbets').html('지금 배팅하세요');				
			
			} else if (response['status'] == 'BETONPLACED') {
					
				$('#popup-message .modal-body').html('귀하는 이미 배팅을 했습니다. 다른 배팅을 하려면 다음 매치까지 기다려 주세요.');
				$('#popup-message').modal('show');
						
			} else if (response['status'] == 'ZEROBALANCE') {
					
				$('#popup-message .modal-body').html('귀하의 계정에는 잔고가 없습니다');
				$('#popup-message').modal('show');
				$('.defplaceyourbets').html('지금 배팅하세요');				
			
			} else if (response['status'] == 'GREATERTHANBALANCE') {
					
				$('#popup-message .modal-body').html('배팅금액이 잔고보다 큽니다');
				$('#popup-message').modal('show');
				$('.defplaceyourbets').html('지금 배팅하세요');				
			
			}	
				
		});

	});
	
	//NEW USER
		
	$('.submit-new-user').click(function() {

		$('#popup-choose-username .error-msg').html('');
		
		if ($('.choose-username').val() == '' || $('.choose-password').val() == '') {
			$('#popup-choose-username .error-msg').html('사용자이름과 비밀번호가 필요합니다');
			$('.error-msg').css('display', 'block');	
			return false;
		} 
		
		if ($('.choose-username').val().length <= 5) {
			$('#popup-choose-username .error-msg').html('사용자이름은 최소 6자 이어야 합니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}
		
		var username = $('.choose-username').val();
		if (username.match(/\s/g) || /^[a-zA-Z0-9- ]*$/.test(username) == false) {
			$('#popup-choose-username .error-msg').html('사용자이름에 특수문자를 사용할 수 없습니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}
		
		if ($('.choose-password').val().length <= 5) {
			$('#popup-choose-username .error-msg').html('비밀번호는 최소 6자 이상 이어야 합니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}
		
		if (grecaptcha.getResponse(widgetCpt_newusr) == '') {
			$('#popup-choose-username .error-msg').html('reCaptcha가 잘못되었습니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}

		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=newuser&username="+$('.choose-username').val()+"&password="+$('.choose-password').val()+"&ip=::1",
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {
				
				location.href = '';
			
			} else if (response['status'] == 'DUPLICATE') {
				
				$('#popup-choose-username .error-msg').html('사용자이름이 이미 사용 중입니다. 다른 이름을 선택하세요');
				$('.error-msg').css('display', 'block');		
				
			} else {
				
				$('#popup-choose-username .error-msg').html('요청을 처리할 수 없습니다. 다시 시도해 주세요');
				$('.error-msg').css('display', 'block');		
			
			}	
		});
		
	});
	
	//USER SETTINGS
	$('.usr-settings').click(function() {
		$('#popup-usr-settings .error-msg').html('');
		$('.popupwindow').modal('hide');
		$('#popup-usr-settings').modal('show');
	});

	$('.submit-usr-settings').click(function() {
		
		$('#popup-usr-settings .error-msg').html('');
		
		if ($('.usr-setting-name').val() == '') {
			$('#popup-usr-settings .error-msg').html('이름이 필요합니다');
			$('.error-msg').css('display', 'block');	
			return false;
		} 
		
		if ($('.usr-setting-email').val() == '') {
			$('#popup-usr-settings .error-msg').html('이메일이 필요합니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}
		
		if ($('.usr-setting-email').val() != '') {
			var email = $('.usr-setting-email').val();
			if (!validateEmail(email)) {
				$('#popup-usr-settings .error-msg').html('이메일이 잘못되었습니다');
				$('.error-msg').css('display', 'block');	
				return false;
			}
		}

		if ($('.usr-setting-password').val() != '') {
			
			if ($('.usr-setting-password').val().length <= 5) {
				$('#popup-usr-settings .error-msg').html('비밀번호는 최소 6자 이상 이어야 합니다');
				$('.error-msg').css('display', 'block');	
				return false;
			}
			
			if ($('.usr-setting-password').val() != $('.usr-setting-rpassword').val()) {
				$('#popup-usr-settings .error-msg').html('Password does not match');
				$('.error-msg').css('display', 'block');	
				return false;
			}
			
		}
		
		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=updateuser&name="+$('.usr-setting-name').val()+"&email="+$('.usr-setting-email').val()+"&password="+$('.usr-setting-password').val(),
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {

				$('#popup-usr-settings .error-msg').html('레코드가 갱신되었습니다');
				$('.error-msg').css('display', 'block');
			
			}
			
		});
		
	});
	
	//SIGN IN
	$('.user-signin').click(function() {
		$('#popup-signin .error-msg').html('');
		$('.popupwindow').modal('hide');
		$('#popup-signin').modal('show');
	});
	
	$('.user-signin-submit').click(function() {
		$('#popup-signin .error-msg').html('');
		
		if ($('.login-username').val() == '' || $('.login-password').val() == '') {
			$('#popup-signin .error-msg').html('사용자이름과 비밀번호가 필요합니다');
			$('.error-msg').css('display', 'block');	
			return false;
		} 
		
		if (grecaptcha.getResponse(widgetCpt_login) == '') {
			$('#popup-signin .error-msg').html('reCaptcha가 잘못되었습니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}

		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=signin&username="+$('.login-username').val()+"&password="+$('.login-password').val(),
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {
				
				location.href = '';
			
			} else if (response['status'] == 'BOT') {
				
				$('#popup-signin .error-msg').html('관리자는 귀하를 봇으로 간주하여 시스템 접근을 못하게 막았습니다');
				$('.error-msg').css('display', 'block');		
				
			} else {
				
				$('#popup-signin .error-msg').html('잘못된 로그인. 다시 시도해 주세요');
				$('.error-msg').css('display', 'block');
			
			}	
		});
	});
	
	//CHECK INCOMING BALANCE
	if ($('.incoming-balance').length) {
		
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=incomingbalance",
		}).done(function(response) {
			if (response['status'] == 'OK') {
				$('.incoming-balance').addClass('incoming-balance-active');
				$('.incoming-balance').html(response['results']['amount']);
			} else {
				$('.incoming-balance').removeClass('incoming-balance-active');
				$('.incoming-balance').html('');
			}
		});
		
		setInterval(function(){ 
			

			$.ajax({
				type: "GET",
				crossDomain: false,
				url: "process/ajax.php?function=incomingbalance",
			}).done(function(response) {
				if (response['status'] == 'OK') {
					$('.incoming-balance').addClass('incoming-balance-active');
					$('.incoming-balance').html(response['results']['amount']);
				} else {
					$('.incoming-balance').removeClass('incoming-balance-active');
					$('.incoming-balance').html('');
				}
			});
			
		}, 10000);

	}
	
	//DEPOSIT TO BITCOIN ADDRESS
	$('.deposit-crypto').click(function() {

		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=getbitcoinaddress",
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {
				
				$('#popup-message .modal-body').html(response['results']['bitcoin_address']);
				$('#popup-message').modal('show');
			
			}
			
		});
		
	});

	//CHECK STATUS OF MATCHES
	if ($('.bet-status').length) {
		
		var continuescript = true;
		
		setInterval(function(){ 
		
			if (continuescript == false) {
				return false;
			} else {
				continuescript = false;
			}
			
			$.ajax({
				type: "GET",
				crossDomain: false,
				url: "process/ajax.php?function=getlatestmatch",
			}).done(function(response) {
				
				continuescript = true;

				if (response['status'] == 'OK') {
					
					if (response['results']['siteview'] != 'saltybet') window.location.replace("");
					
					$('.bet-status').removeClass('bet-status-open');
					$('.bet-status').removeClass('bet-status-ongoing');
					$('.bet-status').removeClass('bet-status-closed');
					
					$('.bet-amount').prop('disabled', false);
					$('#range').prop('disabled', false);
					$('.sbettors1-btn').prop('disabled', false);
					$('.sbettors1-btn').removeClass('line-through');
					$('.sbettors2-btn').prop('disabled', false);
					$('.sbettors2-btn').removeClass('line-through');
					
					$('.bet-team1').html(response['results']['sbettors1']);
					$('.bet-team2').html(response['results']['sbettors2']);
					
					$('#match_id').val(response['results']['id']);

					if (response['results']['betstatus'] == 'open') {
						
						if (cf_getplayerlists == false) {
							getplayerlists();
							cf_getplayerlists = true;
						}
						
						$('.bet-status').addClass('bet-status-open');
						
						$('.bet-status').html('배팅할 수 있습니다!');
						
						if (response['results']['placedBetAtsbettors'] == null) {
							
							if ($('#bet_on_team').val() != '')
								$('.defplaceyourbets').html('배팅대상 ' + $('#bet_on_team').val() + 배팅금액 + $('.bet-amount').val());
							else 
								$('.defplaceyourbets').html('지금 배팅하세요');	
						
						} else {
							
							$('.defplaceyourbets').html('배팅대상 ' + response['results']['placedBetAtsbettors'] + 배팅금액 + response['results']['placedBetAmount']);
						
						}

						getwallet();
						
					} else if (response['results']['betstatus'] == 'ongoing') {
						
						if (cf_getplayerlists == true) {
							getplayerlists();
							cf_getplayerlists = false;
						}
						
						$('.bet-status').addClass('bet-status-ongoing');
						
						$('.bet-status').html('다음 매치까지 배팅은 잠깁니다');
						$('.bet-status').addClass('bet-status-open');
						
						$('.bet-amount').prop('disabled', true);
						$('#range').prop('disabled', true);
						$('.sbettors1-btn').prop('disabled', true);
						$('.sbettors1-btn').addClass('line-through');
						$('.sbettors2-btn').prop('disabled', true);
						$('.sbettors2-btn').addClass('line-through');
						
						if (response['results']['html'] == null) {
							$('.defplaceyourbets').html('매치가 진행 중입니다. 다음 매치에서 배팅할 수 있습니다');	
						} else {
							$('.defplaceyourbets').html(response['results']['html']);
						}
					
					} else if (response['results']['betstatus'] == 'closed') {

						$('.bet-status').addClass('bet-status-closed');
						
						if (response['results']['winner'] == 'sbettors1') {
							$('.bet-status').html('Winner '+response['results']['sbettors1'] );
						} else if (response['results']['winner'] == 'sbettors2') {
							$('.bet-status').html('Winner '+response['results']['sbettors2'] );
						}
						
						$('.bet-amount').prop('disabled', true);
						$('#range').prop('disabled', true);
						$('.sbettors1-btn').prop('disabled', true);
						$('.sbettors2-btn').prop('disabled', true);
						
						if (response['results']['yourBetStatus'] == null) {
							
							if ($('#bet_on_team').val() != '') {
								if ($('#bet_on_sbettors').val() == response['results']['winner'])
									;//$('.defplaceyourbets').html('You won');
								else 
									;//$('.defplaceyourbets').html('You lost');
							} else {
								$('.defplaceyourbets').html('다음 매치에서 배팅해 주세요');
							}
							
						} else {
							
							if (response['results']['yourBetStatus'] == 1)
								;//$('.defplaceyourbets').html('You won');
							else if (response['results']['yourBetStatus'] == 0)
								;//$('.defplaceyourbets').html('You lost');
							else 
								;//$('.defplaceyourbets').html('Draw');
						}
						
						$('#bet_on_team').val('');
						$('#bet_on_sbettors').val('');
						//$('.bet-amount').val('');
						
						getwallet();
					
					}
					
					if (response['results']['bet_result'] != null) {
						if ($('.notification-alerts').is(":hidden")) {
							
							$('.notification-alerts').show();
							
							bet_matchID = response['results']['bet_matchID'];
							
							if (response['results']['bet_result'] == 'won') {
								
								$('.notification-alerts .alert-info').show();
								$('.notification-alerts .alert-danger').hide();
							
							} else if (response['results']['bet_result'] == 'lost') {
								
								$('.notification-alerts .alert-danger').show();
								$('.notification-alerts .alert-info').hide();
								
							}
						}

					}
					
				}
			});
			
		}, 1000);

	}
	
	//GET FAUCET
	$('#popup-message .modal-body').html('VPN이나 TOR을 비활성화 시키세요');
	$('#popup-message').modal('show');
				
	$('.get-faucet').click(function() {
		
		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=getfaucet",
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');

			if (response['status'] == 'SERVERBLOCK') {
				
				$('#popup-message .modal-body').html('VPN이나 TOR을 비활성화 시키세요');
				$('#popup-message').modal('show');
				
			} else if (response['status'] == 'OK') {
				
				$('.wallet-value').html(response['results']['faucet_value']);
				$('#popup-message .modal-body').html('귀하는 이미 포셋금액을 받았습니다.');
				$('#popup-message').modal('show');

			} else if (response['status'] == 'TAKEN') {
				
				$('#popup-message .modal-body').html('일일 포셋 한도를 초과했습니다.  비트코인금액을 입금하세요.');
				$('#popup-message').modal('show');
				
			} else if (response['status'] == 'MUSTBEZERO') {
				
				$('#popup-message .modal-body').html('포셋을 사용하려면 BTC잔액이 0이 되어야합니다');
				$('#popup-message').modal('show');		
			
			}	
		});
		
	});

	//비트코인 인출하기

	$('.withdraw-crypto').click(function() {
		$('#send-crypto').modal('show');
	});

	$('.submit-send-btc').click(function() {
		
		$('#send-crypto .error-msg').html('');
		
		var valid = WAValidator.validate('1KFzzGtDdnq5hrwxXGjwVnKzRbvf8WVxck', 'bitcoin');
		
		if ($('.btc-address').val() == '') {
			$('#send-crypto .error-msg').html('지갑주소가 필요합니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}
		
		if ($('.btc-address').val() != '') {
			var valid = WAValidator.validate($('.btc-address').val(), 'bitcoin');
			if (!valid) {
				$('#send-crypto .error-msg').html('지갑주소가 잘못되었습니다');
				$('.error-msg').css('display', 'block');
				return false;
			}
		}
		
		if ($('.btc-amount').val() == '') {
			$('#send-crypto .error-msg').html('금액이 필요합니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}
		
		if (grecaptcha.getResponse(widgetCpt_withdrawbtc) == '') {
			$('#send-crypto .error-msg').html('reCaptcha가 잘못되었습니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}
		
		$('#send-crypto').modal('hide');
		
		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=sendbitcoin&bitcoin_address="+$('.btc-address').val()+"&bitcoin_amount="+$('.btc-amount').val(),
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {
				
				$('.wallet-value').html(response['results']['bitcoin_wallet']);
				$('#popup-message .modal-body').html(response['results']['message']);
				$('#popup-message').modal('show');
			
			} else {
			
				$('#popup-message .modal-body').html(response['results']['message']);
				$('#popup-message').modal('show');
			}
			
		});
		
	});

	//USER BET STATS
	$('.usr-statistics').click(function() {
		
		$('.popupwindow').modal('hide');
		$('#popup-usr-statistics').modal('show');
		
		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=userstatistics",
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {

				$('#popup-usr-statistics .html-content').html(response['results']['html']);
			
			} else {
				
				$('#popup-usr-statistics .modal-body').html('<center>레코드를 찾을 수 없습니다</center>');
				
			}
			
		});
		
	});
	
	//REFERRAL PROGRAM
	$('.usr-referral').click(function() {
		$('#usr-referral').modal('show');
	});
	
	$('.view-usr-commissions').click(function() {
		
		$('.popupwindow').modal('hide');
		$('#popup-usr-commissions').modal('show');
		
		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=usercommissions",
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {

				$('#popup-usr-commissions .html-content').html(response['results']['html']);
			
			} else {
				
				$('#popup-usr-commissions .modal-body').html('<center>레코드를 찾을 수 없습니다</center>');
				
			}
			
		});
		
	});
	
	$('.view-send-btc-comission').click(function() {
		
		$('.popupwindow').modal('hide');
		$('#send-crypto-commission').modal('show');
		
	});
	
	//커미션 인출하기
	$('.withdraw-crypto-commission').click(function() {
		$('#send-crypto-commission').modal('show');
	});

	$('.submit-send-btc-commission').click(function() {
		
		$('#send-crypto-commission .error-msg').html('');
		
		if (grecaptcha.getResponse(widgetCpt_withdrawcommission) == '') {
			$('#send-crypto-commission .error-msg').html('reCaptcha가 잘못되었습니다');
			$('.error-msg').css('display', 'block');	
			return false;
		}
		
		$('#send-crypto-commission').modal('hide');
		
		$('.ajax-bg, .ajax-loader').css('display', 'block');
		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=sendbitcoincommission&bitcoin_address="+$('.btc-address-commission').val()+"&bitcoin_amount="+$('.btc-amount-commission').val(),
		}).done(function(response) {
			
			$('.ajax-bg, .ajax-loader').css('display', 'none');
			
			if (response['status'] == 'OK') {
				
				$('.wallet-value-commission').html(response['results']['bitcoin_commission']);
				$('#popup-message .modal-body').html(response['results']['message']);
				$('#popup-message').modal('show');
			
			} else {
			
				$('#popup-message .modal-body').html(response['results']['message']);
				$('#popup-message').modal('show');
			}
			
		});
		
	});

});

//TOTAL PLAYTIME
setInterval(function(){ 
	$.ajax({
		type: "GET",
		crossDomain: false,
		url: "process/ajax.php?function=totalplaytime",
	}).done(function(response) {
		;
	});
}, 60000);

function getwallet() {
	if ($('.wallet-value').length) {

		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=getbitcoinwallet",
		}).done(function(response) {
			
			if (response['status'] == 'OK') {
				
				$('.wallet-value').html(response['results']['bitcoin_wallet']);
				
				$(".slider").attr({
				   "max" : response['results']['bitcoin_wallet'],        
				});
				
				if ($('.bet-status').html == '배팅할 수 있습니다!') {
					var defaultbet = parseFloat(response['results']['bitcoin_wallet']);
					defaultbet = defaultbet * 0.20;
					defaultbet = defaultbet.toFixed(8);
					$('.bet-amount').val(defaultbet);
				}
			
			}
			
		});
	}
}

function getplayerlists() {
	
	if ($('.player-lists-content').length) {

		$.ajax({
			type: "GET",
			crossDomain: false,
			url: "process/ajax.php?function=getplayerlists",
		}).done(function(response) {
			
			if (response['status'] == 'OK') {
				
				$('.player-lists-content').html(response['results']['html']);
			
			}
			
		});
	}
}

function validateEmail(email) {
	var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
	return regex.test(email);
}
</script>

<div class="modal fade popupwindow" id="popup-message" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">&nbsp;</div>
            <div class="modal-footer"></div>
            <input type="text" value="" id="clipboard-btc" style="position:fixed; left:-9999999px" />
        </div>
    </div>
</div>

<div class="modal fade popupwindow popup-confirm-placebet" id="popup-confirm-placebet" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">
            	
				<center>
                    <h4>귀하는 <span class="bet-amount-placed"></span> BTC를 <span class="bet-team-placed"></span>팀에 배팅하셨습니다.</h4>
                </center>
                
                <div class="modal-buttons">
                    <button type="button" class="btn btn-primary submit-placebet">확인</button>
                </div>    

            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>

<div class="modal fade popupwindow" id="popup-choose-username" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">
                <center>
                    <h4><div>귀하의 브라울러에 비트코인을 배팅하세요!</div> 시작하기 위해 유저네임을 만드세요!</h4>
                    <div><input type="text" class="choose-username" placeholder="USERNAME" /></div>
                    <div><input type="password" class="choose-password" placeholder="PASSWORD" /></div>
                    <span class="error-msg"></span>
                    <div class="g-recaptcha" id="g-recaptcha1"></div>
                </center>
                
                <div class="modal-buttons">
                    <button type="button" class="btn btn-primary submit-new-user">계정 만들기</button>
                    <button type="button" class="btn btn-danger user-signin" data-dismiss="modal" aria-label="Close">사인-인</button>
                </div>      

            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>

<div class="modal fade popupwindow" id="popup-signin" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">
                <center>
                    <h4>로그인</h4>
                    <div><input type="text" class="login-username" placeholder="USERNAME" /></div>
                    <div><input type="password" class="login-password" placeholder="PASSWORD" /></div>
                    <span class="error-msg"></span>
                    <div class="g-recaptcha" id="g-recaptcha2"></div>
                </center>
                
                <div class="modal-buttons">
                    <button type="button" class="btn btn-primary user-signin-submit">로그인</button>
                    <button type="button" class="btn btn-danger user-create-account">계정 만들기</button>
                </div>      

            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>

<div class="modal fade popupwindow" id="send-crypto" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">
                <center>
                    <h4>비트코인 인출하기</h4>
                    <div><input type="text" class="btc-address" placeholder="주소" /></div>
                    <div><input type="text" class="btc-amount" placeholder="금액" /></div>
                    <span class="error-msg"></span>
                    <div class="g-recaptcha" id="g-recaptcha3"></div>
                </center>
                
                                
                <div class="have-account"><span style="color:#08c;">최소 인출금액</span> <strong style="color:#cf453f;">1.00000000</strong></div>
                
                <div class="modal-buttons">
                	<button type="button" class="btn btn-primary submit-send-btc">보내기</button>
                </div>
            
            </div>
            <div class="modal-footer">
            	
            </div>
        </div>
    </div>
</div>

<div class="modal fade popupwindow" id="usr-referral" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">
                <center>
                    <h4>리퍼럴 코드</h4>
                    <div>이 코드를 친구와 나누고 그들의 우승금액의 일부를 획득하십시오!</div>
                    <div><u>referrals.php?code=b4d9061695328d38bc6941cf06b4c5r4</u></div>
                </center>
                
                <div class="modal-buttons">
                    <button type="button" class="btn btn-primary" style="background:#fc6324; border:#fc6324; width:200px; margin:0 auto; padding:10px 20px;" onclick="copytoclipboard('referrals.php?code=b4d9061695328d38bc6941cf06b4c5r4', 'clipboard-referral')">클립코드에 코드를 복사하세요</button>
                    <input type="text" value="" id="clipboard-referral" style="position:fixed; left:-9999999px" />
                </div>      

            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>

<div class="modal fade popupwindow popup-usr-commissions" id="popup-usr-commissions" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center><img src="assets/images/logo.png" /></center>
            </div>
            	
            <div class="user-bitcoin-commission">
                <div class="bitcoin-icon-commission"></div>
                <a class="wallet-commission"><span class="wallet-value-comission">0.00292000</span></a>
            </div>
            <div class="clear"></div>
                
            <div class="modal-body">
            	
				<div class="html-content" style="overflow:auto; height:400px;"></div>
                
                <div class="modal-buttons">
                	<button type="button" class="btn btn-primary view-send-btc-comission">커미션 인출하기</button>
                </div>  

            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>

<div class="modal fade popupwindow" id="send-crypto-commission" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">
                <center>
                    <h4>커미션 인출하기</h4>
                    <div><input type="text" class="btc-address-commission" placeholder="주소" /></div>
                    <div><input type="text" class="btc-amount-commission" placeholder="금액" /></div>
                    <span class="error-msg"></span>
                    <div class="g-recaptcha" id="g-recaptcha4"></div>
                </center>
                
                                
                <div class="have-account"><span style="color:#08c;">최소 인출금액</span> <strong style="color:#cf453f;">1.00000000</strong></div>
                
                <div class="modal-buttons">
                	<button type="button" class="btn btn-primary submit-send-btc-commission">보내기</button>
                </div>
            
            </div>
            <div class="modal-footer">
            	
            </div>
        </div>
    </div>
</div>

<div class="modal fade popupwindow" id="popup-usr-settings" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">
                <center>
                    <h4>세팅</h4>
                    <div><input type="text" class="usr-setting-name" placeholder="이름" value="Raven" /></div>
                    <div><input type="text" class="usr-setting-email" placeholder="이메일" value="t" /></div>
                    <div><input type="password" class="usr-setting-password" placeholder="새 비밀번호" /></div>
                    <div><input type="password" class="usr-setting-rpassword" placeholder="비밀번호 재입력" /></div>
                    <span class="error-msg"></span>
                    <div class="g-recaptcha" id="g-recaptcha1"></div>
                </center>
                
                <div class="modal-buttons">
                    <button type="button" class="btn btn-primary submit-usr-settings">업데이트</button>
                </div>      

            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>

<div class="modal fade popupwindow popup-usr-statistics" id="popup-usr-statistics" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            &nbsp;
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center><img src="assets/images/logo.png" /></center>
            </div>
            <div class="modal-body">
            	
				<div class="html-content" style="overflow:auto; height:400px;"></div>
                
                <div class="modal-buttons">
                    &nbsp;
                </div>      

            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>

<script type="text/javascript">
var widgetCpt_newusr;
var widgetCpt_login;
var widgetCpt_withdrawbtc;
var CaptchaCallback = function() {
	widgetCpt_newusr = grecaptcha.render('g-recaptcha1', {'sitekey' : '6Lf0HmUUAAAAAPVd5AEJy6fbvDMWTghxkMt4hods'});
	widgetCpt_login = grecaptcha.render('g-recaptcha2', {'sitekey' : '6Lf0HmUUAAAAAPVd5AEJy6fbvDMWTghxkMt4hods'});
	widgetCpt_withdrawbtc = grecaptcha.render('g-recaptcha3', {'sitekey' : '6Lf0HmUUAAAAAPVd5AEJy6fbvDMWTghxkMt4hods'});
	widgetCpt_withdrawcommission = grecaptcha.render('g-recaptcha4', {'sitekey' : '6Lf0HmUUAAAAAPVd5AEJy6fbvDMWTghxkMt4hods'});
};

function copytoclipboard(el, target) {
	$("#"+target).val(el);
	var copyText = document.getElementById(''+target+'');
	copyText.select();
	document.execCommand("copy");
	alert("Copied to clipboard!");
}
</script>
<script src="https://www.google.com/recaptcha/api.js?onload=CaptchaCallback&render=explicit" async defer></script>


</head>

<body>

<div class="ajax-loader"></div>
<div class="ajax-bg"></div>

<div class="clear"></div>
<section class="topheader">
	<div class="container">
    	<a href="index.php" class="logo"></a>
        <div class="user-navigation">
    <a href="#" class="deposit-crypto">입금</a>
    <a href="#" class="withdraw-crypto">출금</a>
    <a href="#" class="get-faucet">포셋</a>
    <a href="what-is-bitcoin.php">비트코인 사는 방법</a>
    <a href="http://localhost/bitcoinbrawlers//esports">e스포츠</a>
</div>

<div class="user-bitcoin">
	<div class="bitcoin-icon"></div>
    <a class="wallet"><span class="wallet-value">3.91354344</span></a>
</div>

<div class="user-account">
	<div class="user-icon"></div>
    
    <div class="dropdown account-dropdown">
        <a class="user-account dropdown-toggle" id="dropdownMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">계정 <span class="downarrow-icon"></span></a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu">
            <a href="#" class="dropdown-item usr-settings">세팅</a>
            <a href="#" class="dropdown-item usr-statistics">통계</a>
            <a href="#" class="dropdown-item usr-referral">소개 프로그램</a>
            <a href="#" class="dropdown-item view-usr-commissions">내 커미션</a>
            <a href="logout.php" class="dropdown-item usr-logout">로그아웃</a>
        </div>
    </div>
    
    <div class="dropdown mobile-dropdown">
    <a class="mobile-dropdown-menu dropdown-toggle" id="dropdownMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">메뉴 <span class="mobile-icon"></span></a>
    <div class="dropdown-menu" aria-labelledby="dropdownMenu">
        <a href="#" class="deposit-crypto">입금</a>
        <a href="#" class="withdraw-crypto">출금</a>
        <a href="#" class="get-faucet">포셋</a>
        <a href="what-is-bitcoin.php">비트코인 사는 방법</a>
        <a href="http://localhost/bitcoinbrawlers//esports">e스포츠</a>
    </div>
    
    
</div>

<div class="clear"></div>    </div>
    <div class="clear"></div>
    <div class="incoming-balance"></div>    <div class="clear"></div>
</section>

<div class="notification-alerts">
  
  <div class="alert alert-info alert-dismissible fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>You Won!</strong> 배팅에서 이긴 것을 축하합니다!
  </div>

  <div class="alert alert-danger alert-dismissible fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>졌습니다!</strong> 다음번에는 행운이 있기를!
  </div>
  
</div>

<section class="content">
	<div class="container">
    
    	<div class="row">
            
            <div class="cols cols-left">
                
                <div class="player-lists-content">
                    <table class="player-lists">
                        <tr>
                            <th>
                                A팀
                            </th>
                            <th>
                                B팀
                            </th>
                        </tr>
                                                <tr>
                            <td colspan="2" style="color:#FFF;">
                                플레이어가 배팅하기를 기다리는 중...
                            </td>
                        </tr>
                                        	</table>
                </div>
                
            </div>	
        
            <div class="cols cols-center">
            
            	<center>
                    <div class="bet-status bet-status-open">
                        배팅할 수 있습니다!                    </div>
                </center>
                
                <div class="bet-teams">
                    <div class="bet-team1"><span></span>Waha- EX3</div>
                    <div class="bet-vs"><span>VS</span></div>
                    <div class="bet-team2">Kona-chan<span></span></div>
                    <div class="clear"></div>
                </div>
                
                <div class="bet-details">
                
                	<button type="button" class="btn btn-danger sbettors1-btn " >이팀에 배팅하기</button>
                	
                    <div class="bet-place-amount">
						                        <input type="text" id="bet-amount" class="bet-amount" value="0.78270869" placeholder="Bet Amount"  />
                        <input type="hidden" id="bet_on_team" value="" />
                        <input type="hidden" id="bet_on_sbettors" value="" />
                    </div>
                    
                    <button type="button" class="btn btn-primary sbettors2-btn " >이팀에 배팅하기</button>
                            
                    <div class="clear"></div>
                    
                    <div class="bet-slider">
                        <div class="slidecontainer">
                            <input type="range" min="0.00000001" max="3.91354344" step="0.00000001" value="0.78270869" class="slider" id="range" >
                        </div>
                    </div>
                    
                </div>

                <div class="defplaceyourbets">
				지금 배팅하세요                </div>
				
                <iframe id="iframeplayer" src="https://player.twitch.tv/?channel=saltybet" frameborder="0" scrolling="no" height="500" width="100%" allowfullscreen="true"></iframe>				
               
            </div>

            <div class="cols cols-right">
            	<iframe id="chat-frame-stream" height="100%" width="100%" frameborder="0" scrolling="no" src="http://twitch.tv/embed/saltybet/chat?darkpopout"></iframe>            </div>	
            
        </div>

    </div>
    
    <div class="clear"></div>
	
    </div>
</section>

<section class="footer">
    <div class="container">
        <div class="footer-links">
            <a href="index.php">홈</a>
            <a href="how-to-buy-bitcoin.php">비트코인 사는 방법</a>
            <a href="what-is-bitcoin.php">비트코인이란 무엇인가</a>
            <a href="terms-of-service.php">서비스 조건</a>
        </div>
    </div>
</section>
<div class="clear"></div>

</body>
</html>